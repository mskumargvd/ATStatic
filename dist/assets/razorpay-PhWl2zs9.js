const t="your_razorpay_key_id_here",a=()=>new Promise(r=>{if(window.Razorpay){r(!0);return}const e=document.createElement("script");e.src="https://checkout.razorpay.com/v1/checkout.js",e.onload=()=>r(!0),e.onerror=()=>r(!1),document.body.appendChild(e)}),d=async r=>{try{const e=await fetch("/.netlify/functions/razorpay-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:r.amount*100,currency:r.currency||"INR",receipt:r.receipt})});if(!e.ok)throw new Error(`Order creation failed: ${e.status}`);return await e.json()}catch(e){throw console.error("Error creating order:",e),e}},u=async r=>{if(!await a())throw new Error("Razorpay SDK failed to load");return new Promise((n,i)=>{const c={key:t,amount:r.amount,currency:r.currency,name:"Agnidhra Technologies",description:r.description,order_id:r.orderId,handler:function(o){n({success:!0,paymentId:o.razorpay_payment_id,orderId:o.razorpay_order_id,signature:o.razorpay_signature})},prefill:{name:r.customerName,email:r.customerEmail,contact:r.customerPhone},config:{display:{blocks:{upi:{name:"UPI",instruments:[{method:"upi"}]}},sequence:["upi"],preferences:{show_default_blocks:!1}}},theme:{color:"#2563eb"},modal:{ondismiss:function(){i(new Error("Payment cancelled by user"))}}};new window.Razorpay(c).open()})},p=async r=>{try{const e=await fetch("/.netlify/functions/razorpay-verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:r.orderId,paymentId:r.paymentId,signature:r.signature})});return e.ok?!!(await e.json()).valid:!1}catch(e){return console.error("Error verifying payment:",e),!1}},y={defensiveBootcamp:{name:"7-Day Defensive Security Bootcamp",price:2999,originalPrice:4999,currency:"INR",description:"Complete defensive security training with hands-on labs"},offensiveBootcamp:{name:"7-Day Ethical Hacking Bootcamp",price:3499,originalPrice:5999,currency:"INR",description:"Comprehensive ethical hacking training with practical exercises"},workshop:{name:"Free Cybersecurity Workshop",price:0,originalPrice:0,currency:"INR",description:"Introduction to cybersecurity fundamentals"},workshopPremium:{name:"Premium Workshop Bundle",price:499,originalPrice:999,currency:"INR",description:"Workshop + exclusive materials + career guidance session"}};export{y as P,d as c,u as p,p as v};
